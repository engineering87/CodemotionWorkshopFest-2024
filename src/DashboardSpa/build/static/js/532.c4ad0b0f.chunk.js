(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[532],{2385:(e,t,n)=>{"use strict";n.d(t,{_e:()=>a});n(446),n(9456),n(9175);function a(){let e;try{e=GetPath()}catch(t){e=""}return e}},7652:function(e,t,n){var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:this;function o(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){c(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(c){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,n){var l=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin!==location.origin?r(c.href)?o(e,t,n):i(c,c.target="_blank"):i(c)):(c.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(r(e))o(e,t,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var i="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&c||l)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,p=u.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});a.saveAs=c.saveAs=c,e.exports=c},3258:(e,t,n)=>{"use strict";n.d(t,{f:()=>i,u:()=>r});var a=n(1238),o=n(7652);function r(e,t){const n={Sheets:{},SheetNames:[]};Object.entries(e).forEach((e=>{let[t,o]=e;n.Sheets[t]=a.Wp.json_to_sheet(o),n.SheetNames.push(t)}));!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".xlsx";const a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,o.saveAs)(a,"".concat(t).concat(n))}((0,a.M9)(n,{bookType:"xlsx",type:"array"}),t)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.entries(e).forEach((e=>{let[n,a]=e,o="".concat(t,"-").concat(n);if(a.length>0){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".csv";var a=document.createElement("a"),o=new Blob(["\ufeff",e]),r=URL.createObjectURL(o);a.href=r,a.download="".concat(t).concat(n),document.body.appendChild(a),a.click(),document.body.removeChild(a)}([Object.keys(a[0]).join(","),...a.map((e=>"".concat(Object.values(e).join(","))))].join("\r\n"),o)}}))}},3575:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,s:()=>d});var a,o,r,i=n(7528),l=n(4968),c=n(1940);const s=c.Ay.div(a||(a=(0,i.A)(["\n  ","\n  min-height: 280px;\n  margin-bottom: 24px;\n"])),(e=>{let{$background:t}=e;if(t)return(0,c.AH)(o||(o=(0,i.A)(["\n        margin-top: 24px;\n        background: white;\n        border-radius: 4px;\n        padding: 24px;\n        box-shadow: 0 1px 2px -2px rgba(0, 0, 0, 0.16), 0 3px 6px 0 rgba(0, 0, 0, 0.12), 0 5px 12px 4px rgba(0, 0, 0, 0.09) !important;\n      "])))})),d=(0,c.Ay)(l.A.Title)(r||(r=(0,i.A)(["\n  /* padding: 0px !important; */\n  /* margin: 0px !important; */\n  margin-bottom: 0px !important;\n"])))},4651:(e,t,n)=>{"use strict";n.d(t,{H:()=>p});var a=n(2058),o=n(8463),r=n(521),i=n(6051),l=n(8223),c=n(5043),s=n(6854),d=n.n(s),u=n(579);const p=()=>{const e="".concat("non disponibile"),t=(0,c.useRef)(),[n,s]=(0,c.useState)(""),[p,f]=(0,c.useState)(),h=(e,t,n)=>{t(),s(e[0]),f(n)},m=(t,n)=>{if("string"===typeof t)return n[t]?n[t]:e;{let a={...n};return t.every((t=>a&&a[t]?(a=a[t],!0):(a=e,!1))),"".concat(a)}};return{get:(0,c.useCallback)(((c,g)=>({filterDropdown:e=>{let{setSelectedKeys:n,selectedKeys:o,confirm:d,clearFilters:p}=e;return(0,u.jsxs)("div",{style:{padding:8},children:[(0,u.jsx)(r.A,{ref:e=>{var n;return(null===(n=t.current)||void 0===n?void 0:n.searchInput)==e},placeholder:g||"Cerca ".concat(c),value:o[0],onChange:e=>n(e.target.value?[e.target.value]:[]),onPressEnter:()=>h(o,d,c),style:{marginBottom:8,display:"block"}}),(0,u.jsxs)(i.A,{children:[(0,u.jsx)(l.Ay,{type:"primary",onClick:()=>h(o,d,c),icon:(0,u.jsx)(a.A,{}),size:"small",style:{width:90},children:"Cerca"}),(0,u.jsx)(l.Ay,{onClick:()=>((e,t)=>{t(),s(""),f(void 0),e()})(d,p),size:"small",style:{width:90},children:"Cancella"})]})]})},filterIcon:e=>e?(0,u.jsx)(o.A,{style:{color:"#1890ff",fontSize:"15px"}}):(0,u.jsx)(a.A,{style:{color:"#1890ff",fontSize:"15px"}}),onFilter:(t,n)=>{const a=m(c,n);return a&&a!==e?((e,t,n)=>{let a=t,o=n.replace("*",".*");return new RegExp(o,"gim").test(a)})(0,a,t):""},onFilterDropdownOpenChange:e=>{e&&setTimeout((()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.searchInput.select()}),100)},render:e=>p===c?(0,u.jsx)(d(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n],autoEscape:!0,textToHighlight:e?e.toString():""}):e})),[])}}},1983:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var a=n(7154),o=n(5043),r=n(2385);const i=()=>{const[e,t]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),[l,c]=(0,o.useState)(null);return{isLoading:e,error:n,data:l,execute:(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{t(!0);const n=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r._e)();const n={method:"get",url:"".concat("").concat(t).concat("/api/v1/Beneficiari").concat(e),maxBodyLength:1/0,headers:{}},o=(await(0,a.A)(n)).data;return o||null}(e);return c(n),t(!1),n}catch(n){throw i(n),t(!1),n}}),[]),reset:(0,o.useCallback)((()=>{t(!1),c(null),i(null)}),[])}}},8515:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var a=n(7154),o=n(5043),r=n(2385);const i=()=>{const[e,t]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),[l,c]=(0,o.useState)(null);return{isLoading:e,error:n,data:l,execute:(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{t(!0);const n=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r._e)();const n={method:"get",url:"".concat("").concat(t).concat("/api/v1/Beneficiari").concat(e),headers:{}},o=(await(0,a.A)(n)).data;return o||null}(e);return c(n),t(!1),n}catch(n){throw i(n),t(!1),n}}),[]),reset:(0,o.useCallback)((()=>{t(!1),c(null),i(null)}),[])}}},8532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var a,o=n(7528),r=n(9456),i=n(5120),l=n(5217),c=n(9672),s=n(4647),d=n(6051),u=n(8223),p=n(8658),f=n(9395),h=n(9029),m=n(3072),g=n(7490),v=n(446),x=n.n(v),y=n(5043),b=n(1940),w=n(3258),A=n(3575),j=n(4651),k=n(171),S=n(1983),C=n(8515),E=n(579);const L=(0,b.Ay)(i.A)(a||(a=(0,o.A)(["\n  color: #1890ff;\n  font-size: 20px;\n\n  &:hover {\n    color: blue;\n    cursor: pointer;\n  }\n"]))),B=e=>{var t,n,a,o,i;let{SideBarId:v}=e;const b=(0,r.wA)(),B=(0,S.F)(),R=(0,C.a)(),O=(0,j.H)(),[T,U]=(0,y.useState)(!1),[_,I]=(0,y.useState)(!1);(0,y.useEffect)((()=>{H(),b((0,k.kT)(v))}),[]);const H=async()=>{await B.execute()},M=[{title:"Nome",dataIndex:"nome",key:"nome",...O.get("nome")},{title:"Cognome",dataIndex:"cognome",key:"cognome",...O.get("cognome")},{title:"Cellulare",dataIndex:"cellulare",key:"cellulare",...O.get("cellulare")},{title:"Email",dataIndex:"email",key:"email",...O.get("email")},{title:"Azioni",dataIndex:"_",key:"Actions",align:"center",fixed:"right",render:(e,t)=>(0,E.jsx)(L,{onClick:()=>{U(!0),(async e=>{await R.execute("/a15e737d-1d57-4dd5-ae69-2f229bec1a47")})(t.id)}})}];let F=B.isLoading;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(A.s,{level:3,children:"Lista Beneficiari"}),(0,E.jsx)(A.f,{$background:!0,children:(0,E.jsxs)(c.A,{gutter:[24,24],children:[(0,E.jsx)(s.A,{span:24,children:(0,E.jsx)(d.A,{children:(0,E.jsx)(u.Ay,{size:"large",className:"btn-extra",type:"primary",icon:(0,E.jsx)(l.A,{}),onClick:()=>{((e,t)=>{const n=x()().format("YYYYMMDD_HHmmss"),a="Beneficari_".concat(n);let o={};switch(Object.values(e).forEach((e=>{o[e.label]=e.dataSource.map((e=>({"Id Beneficiario":e.id,Nome:e.nome,Cognome:e.cognome,Cellulare:e.cellulare,Email:e.email})))})),t){case"XLSX":(0,w.u)(o,a);break;case"CSV":(0,w.f)(o,a)}})([{label:"Beneficiari",dataSource:B.data?B.data.data:[]}],"XLSX")},children:"Esporta"})})}),(0,E.jsx)(s.A,{span:24,children:(0,E.jsx)(p.A,{loading:F,dataSource:B.data?B.data.data:[],columns:M,bordered:!0})})]})}),(0,E.jsx)(f.A,{width:900,title:"Dettaglio Beneficiario",onClose:()=>U(!1),open:T,children:(0,E.jsx)(h.A,{spinning:R.isLoading,children:(0,E.jsx)(m.A,{title:"User Info",bordered:!0,column:1,items:[{key:"6",label:"Id",children:(0,E.jsx)(g.A,{status:"processing",text:null===(t=R.data)||void 0===t?void 0:t.data.id}),span:3},{key:"1",label:"Nome",children:null===(n=R.data)||void 0===n?void 0:n.data.nome},{key:"4",label:"Cognome",children:null===(a=R.data)||void 0===a?void 0:a.data.cognome},{key:"5",label:"Cellulare",children:null===(o=R.data)||void 0===o?void 0:o.data.cellulare,span:2},{key:"7",label:"Email",children:null===(i=R.data)||void 0===i?void 0:i.data.email}]})})})]})}}}]);
//# sourceMappingURL=532.c4ad0b0f.chunk.js.map